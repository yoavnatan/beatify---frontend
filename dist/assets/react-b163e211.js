var et=Object.defineProperty;var it=(e,n,t)=>n in e?et(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var S=(e,n,t)=>(it(e,typeof n!="symbol"?n+"":n,t),t),D=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var u=(e,n,t)=>(D(e,n,"read from private field"),t?t.call(e):n.get(e)),m=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},l=(e,n,t,i)=>(D(e,n,"write to private field"),i?i.call(e,t):n.set(e,t),t);var W=(e,n,t)=>(D(e,n,"access private method"),t);import{R as nt}from"./index-5db27406.js";const st="https://www.youtube.com/embed",ot="https://www.youtube-nocookie.com/embed",rt="https://www.youtube.com/iframe_api",at="YT",lt="onYouTubeIframeAPIReady",q=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})/,ut=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/.*?[?&]list=)([\w_-]+)/;function z(e,n={}){var t;const i={src:X(e,n),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return(t=n.config)!=null&&t.referrerpolicy&&(i.referrerpolicy=n.config.referrerpolicy),n.config&&(i["data-config"]=JSON.stringify(n.config)),`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
        position: relative;
        min-width: 300px;
        min-height: 150px;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
    <iframe${ct(i)}></iframe>
  `}function X(e,n){if(!e.src)return;const t=e.src.includes("-nocookie")?ot:st,i={controls:e.controls===""?null:0,autoplay:e.autoplay,loop:e.loop,mute:e.muted,playsinline:e.playsinline,preload:e.preload??"metadata",enablejsapi:1,cc_load_policy:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1,...n.config};if(q.test(e.src)){const g=e.src.match(q),b=g&&g[1];return`${t}/${b}?${J(i)}`}const s=e.src.match(ut),h={listType:"playlist",list:s&&s[1],...i};return`${t}?${J(h)}`}var R,C,_,T,y,B,M,P,L,$,Z;class x extends(globalThis.HTMLElement??class{}){constructor(){super();m(this,$);S(this,"loadComplete",new F);m(this,R,void 0);m(this,C,void 0);m(this,_,0);m(this,T,!1);m(this,y,void 0);S(this,"isLoaded",!1);m(this,B,null);m(this,M,null);m(this,P,null);m(this,L,1);W(this,$,Z).call(this,"config")}get config(){return u(this,M)}set config(t){l(this,M,t)}async load(){if(u(this,R))return;this.shadowRoot||this.attachShadow({mode:"open"});const t=!u(this,C);u(this,C)&&(this.loadComplete=new F,this.isLoaded=!1),l(this,C,!0),await l(this,R,Promise.resolve()),l(this,R,null),l(this,_,0),this.dispatchEvent(new Event("emptied"));let i=this.api;if(this.api=null,!this.src){i==null||i.destroy();return}l(this,P,document.createElement("video")),this.textTracks=u(this,P).textTracks,this.textTracks.addEventListener("change",()=>{var o;const f=Array.from(this.textTracks).find(p=>p.mode==="showing");(o=this.api)==null||o.setOption("captions","track",f?{languageCode:f.language}:{})}),this.dispatchEvent(new Event("loadstart"));let s=this.shadowRoot.querySelector("iframe"),c=ht(this.attributes);t&&s&&l(this,M,JSON.parse(s.getAttribute("data-config")||"{}")),(!(s!=null&&s.src)||s.src!==X(c,this))&&(this.shadowRoot.innerHTML=z(c,this),s=this.shadowRoot.querySelector("iframe"));const h=await ft(rt,at,lt);this.api=new h.Player(s,{events:{onReady:()=>{var o;l(this,_,1),this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),u(this,L)!==1&&((o=this.api)==null||o.setVolume(u(this,L)*100)),this.dispatchEvent(new Event("volumechange")),this.dispatchEvent(new Event("loadcomplete")),this.isLoaded=!0,this.loadComplete.resolve()},onError:o=>{console.error(o),l(this,B,{code:o.data,message:`YouTube iframe player error #${o.data}; visit https://developers.google.com/youtube/iframe_api_reference#onError for the full error message.`}),this.dispatchEvent(new Event("error"))}}});let g=!1;this.api.addEventListener("onStateChange",o=>{var f;const p=o.data;if((p===h.PlayerState.PLAYING||p===h.PlayerState.BUFFERING)&&(g||(g=!0,this.dispatchEvent(new Event("play"))),(this.api.getOption("captions","tracklist")||[]).forEach(k=>{[...this.textTracks].some(O=>O.language===k.languageCode)||u(this,P).addTextTrack("subtitles",k.displayName,k.languageCode),this.textTracks=u(this,P).textTracks}),this.dispatchEvent(new Event("loadstart"))),p===h.PlayerState.PLAYING)this.seeking&&(l(this,T,!1),(f=u(this,y))==null||f.resolve(),this.dispatchEvent(new Event("seeked"))),l(this,_,3),this.dispatchEvent(new Event("playing"));else if(p===h.PlayerState.PAUSED){const v=Math.abs(this.currentTime-b);!this.seeking&&v>.1&&(l(this,T,!0),this.dispatchEvent(new Event("seeking"))),g=!1,this.dispatchEvent(new Event("pause"))}p===h.PlayerState.ENDED&&(g=!1,this.dispatchEvent(new Event("pause")),this.dispatchEvent(new Event("ended")),this.loop&&this.play())}),this.api.addEventListener("onPlaybackRateChange",()=>{this.dispatchEvent(new Event("ratechange"))}),this.api.addEventListener("onVolumeChange",()=>{var o;const f=((o=this.api)==null?void 0:o.getVolume())/100;l(this,L,f),this.dispatchEvent(new Event("volumechange"))}),this.api.addEventListener("onVideoProgress",()=>{this.dispatchEvent(new Event("timeupdate"))}),await this.loadComplete;let b=0;setInterval(()=>{var o;const f=Math.abs(this.currentTime-b),p=this.buffered.end(this.buffered.length-1);this.seeking&&p>.1?(l(this,T,!1),(o=u(this,y))==null||o.resolve(),this.dispatchEvent(new Event("seeked"))):!this.seeking&&f>.1&&(l(this,T,!0),this.dispatchEvent(new Event("seeking"))),b=this.currentTime},50);let I;const N=setInterval(()=>{const o=this.buffered.end(this.buffered.length-1);o>=this.duration&&(clearInterval(N),l(this,_,4)),I!=o&&(I=o,this.dispatchEvent(new Event("progress")))},100)}async attributeChangedCallback(t,i,s){if(i!==s)switch(t){case"src":case"autoplay":case"controls":case"loop":case"playsinline":this.load()}}async play(){var t;return l(this,y,null),await this.loadComplete,(t=this.api)==null||t.playVideo(),mt(this)}async pause(){var t;return await this.loadComplete,(t=this.api)==null?void 0:t.pauseVideo()}get seeking(){return u(this,T)}get readyState(){return u(this,_)}get src(){return this.getAttribute("src")}set src(t){this.src!=t&&this.setAttribute("src",t)}get error(){return u(this,B)}get paused(){var t,i;return this.isLoaded?[-1,0,2,5].includes((i=(t=this.api)==null?void 0:t.getPlayerState)==null?void 0:i.call(t)):!this.autoplay}get duration(){var t,i;return((i=(t=this.api)==null?void 0:t.getDuration)==null?void 0:i.call(t))??NaN}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(t){this.autoplay!=t&&this.toggleAttribute("autoplay",!!t)}get buffered(){var t,i;if(!this.isLoaded)return Y();const s=((t=this.api)==null?void 0:t.getVideoLoadedFraction())*((i=this.api)==null?void 0:i.getDuration());return s>0?Y(0,s):Y()}get controls(){return this.hasAttribute("controls")}set controls(t){this.controls!=t&&this.toggleAttribute("controls",!!t)}get currentTime(){var t,i;return((i=(t=this.api)==null?void 0:t.getCurrentTime)==null?void 0:i.call(t))??0}set currentTime(t){this.currentTime!=t&&(l(this,y,new F),this.loadComplete.then(()=>{var i,s;(i=this.api)==null||i.seekTo(t,!0),this.paused&&((s=u(this,y))==null||s.then(()=>{var c;u(this,y)&&((c=this.api)==null||c.pauseVideo())}))}))}set defaultMuted(t){this.defaultMuted!=t&&this.toggleAttribute("muted",!!t)}get defaultMuted(){return this.hasAttribute("muted")}get loop(){return this.hasAttribute("loop")}set loop(t){this.loop!=t&&this.toggleAttribute("loop",!!t)}set muted(t){this.muted!=t&&this.loadComplete.then(()=>{var i,s;t?(i=this.api)==null||i.mute():(s=this.api)==null||s.unMute()})}get muted(){var t,i;return this.isLoaded?(i=(t=this.api)==null?void 0:t.isMuted)==null?void 0:i.call(t):this.defaultMuted}get playbackRate(){var t,i;return((i=(t=this.api)==null?void 0:t.getPlaybackRate)==null?void 0:i.call(t))??1}set playbackRate(t){this.playbackRate!=t&&this.loadComplete.then(()=>{var i;(i=this.api)==null||i.setPlaybackRate(t)})}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(t){this.playsInline!=t&&this.toggleAttribute("playsinline",!!t)}get poster(){return this.getAttribute("poster")}set poster(t){this.poster!=t&&this.setAttribute("poster",`${t}`)}set volume(t){this.volume!=t&&(l(this,L,t),this.loadComplete.then(()=>{var i;(i=this.api)==null||i.setVolume(t*100)}))}get volume(){var t;return this.isLoaded?((t=this.api)==null?void 0:t.getVolume())/100:u(this,L)}}R=new WeakMap,C=new WeakMap,_=new WeakMap,T=new WeakMap,y=new WeakMap,B=new WeakMap,M=new WeakMap,P=new WeakMap,L=new WeakMap,$=new WeakSet,Z=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const i=this[t];delete this[t],this[t]=i}},S(x,"getTemplateHTML",z),S(x,"shadowRootOptions",{mode:"open"}),S(x,"observedAttributes",["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src"]);function ct(e){let n="";for(const t in e){const i=e[t];i===""?n+=` ${V(t)}`:n+=` ${V(t)}="${V(`${i}`)}"`}return n}function V(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function J(e){return String(new URLSearchParams(dt(e)))}function dt(e){let n={};for(let t in e){let i=e[t];i===!0||i===""?n[t]=1:i===!1?n[t]=0:i!=null&&(n[t]=i)}return n}function ht(e){let n={};for(let t of e)n[t.name]=t.value;return n}const j={};async function ft(e,n,t){return j[e]?j[e]:n&&self[n]?(await pt(0),self[n]):j[e]=new Promise(function(i,s){const c=document.createElement("script");c.src=e;const h=()=>i(self[n]);t&&(self[t]=h),c.onload=()=>!t&&h(),c.onerror=s,document.head.append(c)})}const pt=e=>new Promise(n=>setTimeout(n,e));function vt(e){return(...n)=>new Promise(t=>{e(...n,(...i)=>{i.length>1?t(i):t(i[0])})})}function mt(e){return vt((n,t)=>{let i;e.addEventListener(n,i=()=>{e.removeEventListener(n,i),t()})})("playing")}class F extends Promise{constructor(n=()=>{}){let t,i;super((s,c)=>{n(s,c),t=s,i=c}),this.resolve=t,this.reject=i}}function Y(e,n){return Array.isArray(e)?G(e):e==null||n==null||e===0&&n===0?G([[0,0]]):G([[e,n]])}function G(e){return Object.defineProperties(e,{start:{value:n=>e[n][0]},end:{value:n=>e[n][1]}}),e}globalThis.customElements&&!globalThis.customElements.get("youtube-video")&&globalThis.customElements.define("youtube-video",x);var gt=x,yt=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),bt={className:"class",htmlFor:"for"};function tt(e){return e.toLowerCase()}function K(e){if(typeof e=="boolean")return e?"":void 0;if(typeof e!="function"&&!(typeof e=="object"&&e!==null))return e}function Et({react:e,tagName:n,elementClass:t,events:i,displayName:s,defaultProps:c,toAttributeName:h=tt,toAttributeValue:g=K}){const b=Number.parseInt(e.version)>=19,I=e.forwardRef((N,o)=>{var f,p;const v=e.useRef(null),k=e.useRef(new Map),O={},U={},E={},H={};for(const[r,a]of Object.entries(N)){if(yt.has(r)){E[r]=a;continue}const d=h(bt[r]??r);if(t.prototype&&r in t.prototype&&!(r in(((f=globalThis.HTMLElement)==null?void 0:f.prototype)??{}))&&!((p=t.observedAttributes)!=null&&p.some(A=>A===d))){H[r]=a;continue}if(r.startsWith("on")){O[r]=a;continue}const w=g(a);if(d&&w!=null&&(U[d]=String(w),b||(E[d]=w)),d&&b){const A=K(a);w!==A?E[d]=w:E[d]=a}}if(typeof window<"u"){for(const r in O){const a=O[r],d=r.endsWith("Capture"),w=((i==null?void 0:i[r])??r.slice(2).toLowerCase()).slice(0,d?-7:void 0);e.useLayoutEffect(()=>{const A=v==null?void 0:v.current;if(!(!A||typeof a!="function"))return A.addEventListener(w,a,d),()=>{A.removeEventListener(w,a,d)}},[v==null?void 0:v.current,a])}e.useLayoutEffect(()=>{if(v.current===null)return;const r=new Map;for(const a in H)Q(v.current,a,H[a]),k.current.delete(a),r.set(a,H[a]);for(const[a,d]of k.current)Q(v.current,a,void 0);k.current=r})}if(typeof window>"u"&&(t!=null&&t.getTemplateHTML)&&(t!=null&&t.shadowRootOptions)){const{mode:r,delegatesFocus:a}=t.shadowRootOptions,d=e.createElement("template",{shadowrootmode:r,shadowrootdelegatesfocus:a,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(U,N)},key:"ce-la-react-ssr-template-shadow-root"});E.children=[d,E.children]}return e.createElement(n,{...c,...E,ref:e.useCallback(r=>{v.current=r,typeof o=="function"?o(r):o!==null&&(o.current=r)},[o])},E.children)});return I.displayName=s??t.name,I}function Q(e,n,t){var i;e[n]=t,t==null&&n in(((i=globalThis.HTMLElement)==null?void 0:i.prototype)??{})&&e.removeAttribute(n)}var Tt=Et({react:nt,tagName:"youtube-video",elementClass:gt,toAttributeName(e){return e==="muted"?"":e==="defaultMuted"?"muted":tt(e)}});/*! Bundled license information:

ce-la-react/dist/ce-la-react.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Modified version of `@lit/react` for vanilla custom elements with support for SSR.
   *)
*/export{Tt as default};
